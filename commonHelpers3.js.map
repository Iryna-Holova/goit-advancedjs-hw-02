{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', handleFormSubmit);\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const { delay, step, amount } = event.currentTarget.elements;\n  let promiseDelay = Number(delay.value);\n  const delayStep = Number(step.value);\n  const promisesAmount = Number(amount.value);\n\n  for (let i = 1; i <= promisesAmount; i++) {\n    createPromise(i, promiseDelay)\n      .then(({ position, delay }) => {\n        iziToast.success({\n          message: `✅ Fulfilled promise ${position} in ${delay}ms`,\n        });\n      })\n      .catch(({ position, delay }) => {\n        iziToast.error({\n          message: `❌ Rejected promise ${position} in ${delay}ms`,\n        });\n      });\n\n    promiseDelay += delayStep;\n  }\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n"],"names":["form","handleFormSubmit","event","delay","step","amount","promiseDelay","delayStep","promisesAmount","i","createPromise","position","iziToast","resolve","reject"],"mappings":"mIAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAgB,EAEhD,SAASA,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAC,EAAO,KAAAC,EAAM,OAAAC,CAAQ,EAAGH,EAAM,cAAc,SACpD,IAAII,EAAe,OAAOH,EAAM,KAAK,EACrC,MAAMI,EAAY,OAAOH,EAAK,KAAK,EAC7BI,EAAiB,OAAOH,EAAO,KAAK,EAE1C,QAASI,EAAI,EAAGA,GAAKD,EAAgBC,IACnCC,EAAcD,EAAGH,CAAY,EAC1B,KAAK,CAAC,CAAE,SAAAK,EAAU,MAAAR,KAAY,CAC7BS,EAAS,QAAQ,CACf,QAAS,uBAAuBD,QAAeR,KACzD,CAAS,CACT,CAAO,EACA,MAAM,CAAC,CAAE,SAAAQ,EAAU,MAAAR,KAAY,CAC9BS,EAAS,MAAM,CACb,QAAS,sBAAsBD,QAAeR,KACxD,CAAS,CACT,CAAO,EAEHG,GAAgBC,CAEpB,CAEA,SAASG,EAAcC,EAAUR,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACU,EAASC,IAAW,CACtC,WAAW,IAAM,CACO,KAAK,OAAM,EAAK,GAEpCD,EAAQ,CAAE,SAAAF,EAAU,MAAAR,CAAK,CAAE,EAE3BW,EAAO,CAAE,SAAAH,EAAU,MAAAR,CAAK,CAAE,CAE7B,EAAEA,CAAK,CACZ,CAAG,CACH"}